import{d as R,k as g,l as N,o,c as d,a as s,b as c,u as _,R as y,ae as $,H as h,M as A,Q as w,J as H,K as L,L as C,I as f,P as b,a1 as B,W as S,bl as O,T}from"./@vue.93d749de.js";import{r as D,R as E,u as V}from"./index.645abaa1.js";import{_ as P,b as U,c as W}from"./@icon-park.b1f4f028.js";import{_ as J,a as K,s as Q}from"./systemStore.46236f45.js";import{c as q,d as G}from"./element-plus.bf9fa066.js";import{_ as X}from"./_plugin-vue_export-helper.cdc0426e.js";import"./vue-router.9aaff3ab.js";import"./pinia.69fcafa7.js";import"./vue-demi.f95da513.js";import"./axios.7a8c36d1.js";import"./@kangc.6fbe2d34.js";import"./vue.a47fe42c.js";/* empty css                    */import"./dayjs.2da0dfc5.js";import"./prismjs.746706c7.js";import"./vee-validate.f34e48f3.js";import"./@vee-validate.51eabfa0.js";import"./yup.e40ae9cc.js";import"./nanoclone.76ad5e25.js";import"./lodash.030833a1.js";import"./property-expr.8748984a.js";import"./toposort.be455aaf.js";import"./@vueuse.3a1db1c8.js";import"./@element-plus.4cdb3580.js";import"./lodash-es.dd6a6848.js";import"./async-validator.6019f6c6.js";import"./@sxzz.69bffcbd.js";import"./escape-html.ee221422.js";import"./normalize-wheel-es.25faf228.js";import"./@ctrl.46158b0f.js";import"./system.e53fe672.js";const Y=D.getRoutes().filter(l=>l.children.length).filter(l=>l.meta.menu).sort((l,e)=>{var r,a;return((r=l.meta.order)!=null?r:100)-((a=e.meta.order)!=null?a:100)}),Z=R(!0),v=R([]),F=()=>({routes:Y,show:Z,go:e=>{v.value.length==20&&v.value.pop(),v.value.find(a=>a.name==e.name)||v.value.unshift(e),D.push(e)},history:v}),ee={class:"admin-menu"},te={class:"logo cursor-pointer"},se={class:"container"},oe={class:"text-md"},ne=["onClick"],re=s("div",{class:"bg block md:hidden"},null,-1),ae=g({__name:"menu",setup(l){const{routes:e,show:r,go:a}=F();return N(()=>{document.documentElement.addEventListener("click",i=>{document.documentElement.clientWidth<640&&(r.value=!1)})}),(i,n)=>{const m=P;return o(),d("div",ee,[s("div",{class:C(["menu",{hidden:!_(r)}])},[s("div",te,[c(m,{theme:"outline",size:"18",fill:"#dcdcdc",class:"mr-2",onClick:n[0]||(n[0]=t=>i.$router.push({name:_(E).HOME}))}),s("span",{class:"text-md cursor-pointer",onClick:n[1]||(n[1]=t=>i.$router.push({name:_(E).ADMIN}))},"\u665A\u516B\u70B9\u76F4\u64AD")]),s("div",se,[(o(!0),d(y,null,$(_(e),(t,p)=>{var u,k;return o(),d("dl",{key:p},[s("dt",null,[s("section",null,[(o(),h(A((u=t.meta.menu)==null?void 0:u.icon),{size:"15",fill:"#dcdcdc",class:"mr-2"})),s("span",oe,w((k=t.meta.menu)==null?void 0:k.title),1)])]),s("dd",null,[(o(!0),d(y,null,$(t.children,(x,j)=>{var M,z,I;return H((o(),d("div",{key:j,onClick:we=>_(a)(x),class:C({active:i.$route.name==x.name})},w((z=(M=x.meta)==null?void 0:M.menu)==null?void 0:z.title),11,ne)),[[L,(I=x.meta)==null?void 0:I.menu]])}),128))])])}),128))])],2),re])}}});const ie=b("\u9996\u9875"),ce=g({__name:"breadcrumb",setup(l){const e=D.currentRoute;return(r,a)=>{const i=q,n=G;return o(),h(n,{separator:"/"},{default:f(()=>{var m;return[c(i,{to:{name:_(E).HOME}},{default:f(()=>[ie]),_:1},8,["to"]),(o(!0),d(y,null,$((m=_(e))==null?void 0:m.matched,(t,p)=>(o(),h(i,{to:{path:t.path},key:p},{default:f(()=>{var u;return[b(w((u=t.meta.menu)==null?void 0:u.title),1)]}),_:2},1032,["to"]))),128))]}),_:1})}}}),le={class:"bg-white relative shadow-sm z-50 p-2 border-b-1 px-5 flex justify-between items-center"},me={class:"flex items-center"},_e={class:"flex justify-center items-center relative cursor-pointer"},ue=b("\u7F51\u7AD9\u9996\u9875"),de=b("\u7CFB\u7EDF\u5E73\u53F0"),pe=g({__name:"navbar",setup(l){const{show:e}=F();return(r,a)=>{const i=U,n=W,m=ce,t=B("router-link"),p=J,u=K;return o(),d("div",le,[s("div",me,[s("div",{class:"mr-2",onClick:a[0]||(a[0]=S(k=>e.value=!_(e),["stop"]))},[_(e)?(o(),h(i,{key:0,theme:"filled",size:"24",fill:"#10ad57",class:"cursor-pointer duration-300"})):(o(),h(n,{key:1,theme:"filled",size:"24",fill:"#10ad57",class:"cursor-pointer duration-300"}))]),c(m,{class:"hidden md:block"})]),s("div",_e,[c(t,{to:"/",class:"mr-2 text-sm text-gray-600 md:hidden"},{default:f(()=>[ue]),_:1}),c(t,{to:{name:"core"},class:"mr-2 text-sm text-gray-600"},{default:f(()=>[de]),_:1}),c(p,{class:"hidden md:flex mr-3 text-gray-600"}),c(u,{class:"text-gray-500"})])])}}}),fe={class:"hidden md:block p-2 border-t border-b bg-gray-50 shadow-sm"},he={class:"grid grid-flow-col gap-2 justify-start"},ve=g({__name:"historyLink",setup(l){const{history:e}=F();return(r,a)=>{const i=B("router-link");return H((o(),d("div",fe,[s("div",he,[(o(!0),d(y,null,$(_(e),n=>(o(),h(i,{to:{name:n.name},class:C(["border hover:bg-teal-600 hover:text-white duration-300 bg-white rounded-md shadow-sm py-2 px-3 flex items-center justify-center text-xs",{"bg-teal-600 text-white":r.$route.name==n.name}])},{default:f(()=>{var m,t;return[b(w((t=(m=n.meta)==null?void 0:m.menu)==null?void 0:t.title),1)]}),_:2},1032,["to","class"]))),256))])],512)),[[L,_(e).length]])}}}),ge={class:"admin h-screen w-screen grid md:grid-cols-[auto_1fr]"},be={class:"content bg-gray-100 grid grid-rows-[auto_1fr]"},xe={class:"m-3 relative overflow-y-auto"},ye={class:"absolute w-full"},$e=g({__name:"admin",async setup(l){let e,r;return[e,r]=O(()=>Promise.all([V().getUserInfo(),Q().load()])),await e,r(),(a,i)=>{const n=B("router-view");return o(),d("div",ge,[c(ae),s("div",be,[s("div",null,[c(pe),c(ve)]),s("div",xe,[c(n,null,{default:f(({Component:m,route:t})=>{var p,u;return[c(T,{appear:"",class:"animate__animated","enter-active-class":(p=t.meta.enterClass)!=null?p:"animate__fadeInRight","leave-active-class":(u=t.meta.leaveClass)!=null?u:"animate__fadeOutLeft"},{default:f(()=>[s("div",ye,[(o(),h(A(m)))])]),_:2},1032,["enter-active-class","leave-active-class"])]}),_:1})])])])}}});const tt=X($e,[["__scopeId","data-v-e5f8c466"]]);export{tt as default};
